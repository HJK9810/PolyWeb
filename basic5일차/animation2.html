<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    </head>
    <body>
        <style>
            div {
                position: relative;
                width: 800px;
                height: 600px;
                border: 1px black solid;
            }
            #characters {
                position: absolute;
                width: 50px;
                height: 100px;
                left: 50px;
                bottom: 5px;
            }
            #obstacle {
                position: absolute;
                width: 150px;
                height: 100px;
                right: 5px;
                bottom: 5px;
            }
        </style>
        <script>
            $(() => {
                $(document).keydown((event) => {
                    // key번호 => spacebar : 32
                    if (event.keyCode == 32) {
                        // up!
                        $("#characters").animate({ top: "-=200px" });
                        setTimeout(() => {
                            // 원상복귀
                            $("#characters").animate({ top: "+=200px" });
                        }, 500);
                    }
                });
                // 5초마다 생성
                setInterval(() => {
                    // 본래 자리에서 끝까지 이동 - 최초의 위치 : left 645px , 이미지 길이 : 150px
                    // img 보여주기
                    $("#obstacle").show();
                    setTimeout(() => {
                        // 끝까지 이동
                        $("#obstacle").animate({ left: `-=800px` });

                        // img가 나타날 위치 무작위 생성
                        let bomStart = Math.ceil(Math.random() * 245) + 400;
                        // 이동을 위한 잠시간의 시간벌이
                        setTimeout(() => {
                            // 이동은 animate를 이용함으로 도로 나타날 위치까지 이동할때는 모습 숨기기
                            $("#obstacle").hide();
                            $("#obstacle").animate({ left: `${bomStart}px` });
                        }, 500);
                    }, 500);
                }, 5000);
            });
        </script>
        <div>
            <img src="https://supermariorun.com/assets/img/stage/mario03.png" alt="캐릭터" id="characters" />
            <img src="http://www.mariowiki.com/images/thumb/e/e6/BulletBillWii.png/800px-BulletBillWii.png" alt="장애물" id="obstacle" />
        </div>
    </body>
</html>
